<!doctype html>
<html lang="en">
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
	
	<style>
	body {
		font-family: -apple-system,BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell, "Open Sans", "Helvetica Neue", sans-serif;
	}
	#map {
		width: 600px;
		height: 600px;
	}
	.marker {
	  background-image: url('images/mapbox-icon.png');
	  background-size: cover;
	  width: 50px;
	  height: 50px;
	  border-radius: 50%;
	  cursor: pointer;
	}
	</style>
	
	<link href="https://api.mapbox.com/mapbox-gl-js/v3.6.0/mapbox-gl.css" rel="stylesheet">
	<script src="https://api.mapbox.com/mapbox-gl-js/v3.6.0/mapbox-gl.js"></script>

</head>
<body>
	<div id="geodata"></div>
	<div id="map"></div>

	<script>
		if ("geolocation" in navigator) {

			// init mapbox
			mapboxgl.accessToken = 'pk.eyJ1IjoibGF3bGVzc21lZGlhIiwiYSI6ImNqcG00dzAyMzAyMHY0OHBiMHYxdmQ5bncifQ._EI8PZnNYWKIz6v2JxGAlQ';
			const map = new mapboxgl.Map({
		        container: 'map',
		        // Choose from Mapbox's core styles, or make your own style with Mapbox Studio
		        style: 'mapbox://styles/mapbox/streets-v12',
		        center: [-98.6, 39.8],
		        zoom: 3
		    });

			/* geolocation is available */
			navigator.geolocation.getCurrentPosition(function(position) {
				var lat = position.coords.latitude;
				var long = position.coords.longitude;

				document.getElementById("geodata").innerHTML = '<p>Lat: ' + position.coords.latitude + '</p><p>Long: ' + position.coords.longitude + '</p>';

				

			    // Create a default Marker and add it to the map.
			    const marker1 = new mapboxgl.Marker({ color: 'red' })
			        .setLngLat([long, lat])
			        .addTo(map);

			});
		} else {
			/* geolocation IS NOT available */
			document.getElementById("geodata").innerHTML = 'Geolocation not available.';
		}
	</script>

</body>
</html>
